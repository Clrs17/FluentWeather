<Page
    x:Class="FluentWeather.Uwp.Pages.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:FluentWeather.Uwp.Pages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:media="using:Microsoft.Toolkit.Uwp.UI.Media"
    xmlns:controls="using:Microsoft.Toolkit.Uwp.UI.Controls" 
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    xmlns:toolkit="using:Microsoft.Toolkit.Uwp.UI.Controls"
    xmlns:models="using:FluentWeather.Abstraction.Models"
    xmlns:controls1="using:FluentWeather.Uwp.Controls"
    xmlns:interfaces="using:FluentWeather.Abstraction.Interfaces.Weather"
    xmlns:viewmodels="using:FluentWeather.Uwp.ViewModels" 
    xmlns:converters="using:ValueConverters"
    xmlns:i="using:Microsoft.Xaml.Interactivity"
    xmlns:behaviors="using:FluentWeather.Uwp.Behaviors"
    xmlns:app="using:FluentWeather.Uwp.Shared"
    xmlns:core="using:Microsoft.Xaml.Interactions.Core"
    xmlns:interop="using:Windows.UI.Xaml.Interop"
    xmlns:dialogs="using:FluentWeather.Uwp.Controls.Dialogs"
    mc:Ignorable="d"
    d:RequestedTheme="Dark">
    <Page.Resources>
        <converters:ValueConverterGroup x:Key="BoolNegationToVisibilityConverter">
            <converters:BoolNegationConverter/>
            <converters:BoolToVisibilityConverter/>
        </converters:ValueConverterGroup>
    </Page.Resources>
    <Grid>
        <ScrollViewer x:Name="MainScrollViewer" x:FieldModifier="Public" Canvas.ZIndex="1" VerticalScrollBarVisibility="Auto" IsEnabled="{x:Bind ViewModel.IsLoading,Mode=OneWay,Converter={StaticResource BoolNegationConverter}}">
            <Grid x:Name="ContentGrid" MaxWidth="1024" Margin="32,40,32,32" >
                <Grid.ChildrenTransitions>
                    <TransitionCollection>
                        <EntranceThemeTransition FromVerticalOffset="50" IsStaggeringEnabled="True"/>
                        <RepositionThemeTransition IsStaggeringEnabled="False" />
                    </TransitionCollection>
                </Grid.ChildrenTransitions>
                    <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!--当前天气-->
                <Grid Margin="0,0,0,12" x:DefaultBindMode="OneWay">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal"  Opacity="0.95">
                            <TextBlock Text="{Binding WeatherNow.Temperature}" Style="{ThemeResource TitleTextBlockStyle}" FontSize="90"/>
                            <Grid  Margin="4,26,0,0">
                                <TextBlock Text="°" Style="{ThemeResource TitleTextBlockStyle}" FontWeight="Bold" FontSize="64" Margin="2,-16,0,0"/>
                                <TextBlock Text="{x:Bind ViewModel.WeatherNow.Description}" FontWeight="SemiBold"  FontSize="32" VerticalAlignment="Bottom" Margin="0,0,0,20"/>
                            </Grid>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}" FontSize="18" Margin="0,6,0,0">
                                <Run Text="体感"/>
                                <Run Text="{Binding WeatherNow.ApparentTemperature}"/><Run Text="°"/>
                            </TextBlock>
                            <Button  Visibility="{x:Bind ViewModel.AirCondition.AqiCategory,Converter={StaticResource NullToVisibilityConverter}}" 
                                     Margin="12,0,0,0"
                                     Background="Transparent"
                                     BorderBrush="Transparent">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}" FontSize="17">
                                        <Run Text="空气质量 -"/>
                                        <Run Text="{x:Bind ViewModel.AirCondition.AqiCategory}"/>
                                    </TextBlock>
                                    <FontIcon Glyph="&#xE00F;" FontSize="14" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                                </StackPanel>
                                <i:Interaction.Behaviors>
                                    <behaviors:ButtonContentSnapBehavior SnapType="Left"/>
                                </i:Interaction.Behaviors>
                                <Button.Flyout>
                                    <Flyout Placement="BottomEdgeAlignedLeft">
                                        <Grid>
                                            <HyperlinkButton NavigateUri="{Binding AirCondition.Link}" ToolTipService.ToolTip="查看详细信息" HorizontalAlignment="Right" VerticalAlignment="Top" Canvas.ZIndex="1">
                                                <FontIcon Glyph="&#xE2B4;" FontSize="16"/>
                                            </HyperlinkButton>
                                            <StackPanel Spacing="8">
                                                <TextBlock>
                                                    <Run Text="{x:Bind ViewModel.AirCondition.Aqi}" FontSize="34" FontWeight="SemiBold"/>
                                                    <Run Text="{x:Bind ViewModel.AirCondition.AqiCategory}" FontSize="16"/>
                                                </TextBlock>
                                                <StackPanel Orientation="Horizontal" Spacing="20" Margin="0,0,8,0">
                                                    <StackPanel>
                                                        <TextBlock Text="{Binding AirCondition.PM25}"  FontSize="26" HorizontalAlignment="Center"/>
                                                        <TextBlock Text="PM2.5" HorizontalAlignment="Center" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                                                    </StackPanel>
                                                    <StackPanel>
                                                        <TextBlock Text="{Binding AirCondition.PM10}"   FontSize="26" HorizontalAlignment="Center"/>
                                                        <TextBlock Text="PM10" HorizontalAlignment="Center" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                                                    </StackPanel>
                                                    <StackPanel>
                                                        <TextBlock Text="{Binding AirCondition.SO2}"  Margin="0,0,4,0" FontSize="26" HorizontalAlignment="Center"/>
                                                        <TextBlock Text="SO₂" HorizontalAlignment="Center" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                                                    </StackPanel>
                                                    <StackPanel>
                                                        <TextBlock Text="{Binding AirCondition.NO2}"  Margin="0,0,4,0" FontSize="26" HorizontalAlignment="Center"/>
                                                        <TextBlock Text="NO₂" HorizontalAlignment="Center" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                                                    </StackPanel>
                                                    <StackPanel>
                                                        <TextBlock Text="{Binding AirCondition.O3}"  Margin="0,0,4,0" FontSize="26" HorizontalAlignment="Center"/>
                                                        <TextBlock Text="O₃" HorizontalAlignment="Center" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                                                    </StackPanel>
                                                    <StackPanel>
                                                        <TextBlock Text="{Binding AirCondition.CO}" FontSize="26" HorizontalAlignment="Center"/>
                                                        <TextBlock Text="CO" HorizontalAlignment="Center" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                                                    </StackPanel>
                                                </StackPanel>
                                                <TextBlock Text="单位:μg/m³" HorizontalAlignment="Right" Margin="0,0,4,0" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>

                                            </StackPanel>
                                        </Grid>
                                    </Flyout>
                                </Button.Flyout>
                            </Button>
                        </StackPanel>
                        <Border Visibility="{x:Bind ViewModel.Precipitation.Precipitations,Converter={StaticResource NullToVisibilityConverter}}">
                            <TextBlock Visibility="{x:Bind PrecipGrid.Visibility,Converter={StaticResource VisibilityInverter}}"
                                       FontSize="17" 
                                       Text="{Binding Precipitation.Summary}"
                                       Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                        </Border>

                    </StackPanel>
                </Grid>
                
                <!--降水概率-->
                <Grid x:Name="PrecipGrid" Grid.Row="1" Visibility="{x:Bind GetPrecipChartVisibility(ViewModel.Precipitation),Mode=OneWay}">
                    <muxc:Expander Header="{Binding Precipitation.Summary}" HorizontalAlignment="Stretch">
                        <controls1:PrecipitationChart Precipitations="{x:Bind ViewModel.Precipitation.Precipitations,Mode=OneWay}" Height="200"/>
                    </muxc:Expander>
                </Grid>
                
                <!--预警-->
                <Grid Grid.Row="2"  Margin="-12,4,-12,0" >
                    <ListView ItemsSource="{x:Bind ViewModel.Warnings,Mode=OneWay}" SelectionMode="None" HorizontalContentAlignment="Stretch">
                        <ListView.ItemTemplate>
                            <DataTemplate x:DataType="models:WeatherWarningBase">
                                <controls1:WarningItem Warning="{x:Bind Mode=OneWay}" Margin="0,4"/>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                        <ListView.ItemContainerStyle >
                            <Style TargetType="ListViewItem">
                                <Setter Property="Transitions">
                                    <Setter.Value>
                                        <TransitionCollection>
                                            <RepositionThemeTransition IsStaggeringEnabled="False" />
                                        </TransitionCollection>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                            </Style>
                        </ListView.ItemContainerStyle>
                    </ListView>
                    
                </Grid>

                <!--7天天气预报-->
                <Grid Grid.Row="3"  Margin="0,0,0,0" >
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <toolkit:AdaptiveGridView x:Name="DailyGridView" ItemsSource="{x:Bind ViewModel.DailyForecasts7D,Mode=OneWay}" 
                                              HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch"
                                              IsItemClickEnabled="True"
                                          OneRowModeEnabled="True"
                                          ItemHeight="165"
                                          DesiredWidth="120"
                                          SelectionMode="None"
                                          Margin="0,0,0,0">
                        <toolkit:AdaptiveGridView.ItemTemplate>
                            <DataTemplate x:DataType="models:WeatherBase">
                                <UserControl>
                                    <StackPanel VerticalAlignment="Center">
                                        <controls1:WeatherForecastItem WeatherInfo="{x:Bind}" VerticalAlignment="Center"/>
                                        <TextBlock x:Name="TemperatureText" HorizontalAlignment="Center" Margin="0,4,0,0" FontSize="16">
                                            <Run Text="{Binding MinTemperature}"/><Run Text="°"/>
                                            <Run Text="/"/>
                                            <Run Text="{Binding MaxTemperature}"/><Run Text="°"/>
                                        </TextBlock>
                                        <VisualStateManager.VisualStateGroups>
                                            <VisualStateGroup>
                                                <VisualState>
                                                    <VisualState.StateTriggers>
                                                        <AdaptiveTrigger MinWindowWidth="1102"/>
                                                    </VisualState.StateTriggers>
                                                    <VisualState.Setters>
                                                        <Setter Target="TemperatureText.Visibility"  Value="Collapsed"/>
                                                    </VisualState.Setters>
                                                </VisualState>
                                            </VisualStateGroup>
                                        </VisualStateManager.VisualStateGroups>
                                    </StackPanel>
                                </UserControl>

                            </DataTemplate>
                        </toolkit:AdaptiveGridView.ItemTemplate>
                        <i:Interaction.Behaviors >
                            <behaviors:ListViewScrollBehavior/>
                            <behaviors:ListViewOpenContentDialogBehavior DialogType="dialogs:DailyForecastDialog" UseArguments="True"/>
                        </i:Interaction.Behaviors>
                    </toolkit:AdaptiveGridView>
                    <Button Grid.Row="0" Margin="-20,0,0,0" CornerRadius="50" Height="40" Width="40" HorizontalContentAlignment="Stretch" HorizontalAlignment="Left" VerticalAlignment="Center" Background="Transparent" BorderBrush="Transparent">
                        <FontIcon Glyph="&#xE00E;" Margin="-3,0,0,0"/>
                        <i:Interaction.Behaviors>
                            <behaviors:ListViewScrollButtonBehavior IsRight="False" ListView="{x:Bind DailyGridView}"/>
                        </i:Interaction.Behaviors>
                        <Button.Resources>
                            <ResourceDictionary>
                                <SolidColorBrush x:Key="ButtonBackgroundDisabled" Color="#0000"/>
                                <SolidColorBrush x:Key="ButtonBorderBrushDisabled" Color="#0000"/>
                            </ResourceDictionary>
                        </Button.Resources>
                    </Button>
                    <Button Grid.Row="0"  Margin="0,0,-20,0" CornerRadius="50" Height="40" Width="40" HorizontalAlignment="Right" VerticalAlignment="Center" Background="Transparent" BorderBrush="Transparent" >
                        <FontIcon Glyph="&#xE00F;" Margin="-1,0,0,0"/>
                        <i:Interaction.Behaviors>
                            <behaviors:ListViewScrollButtonBehavior ListView="{x:Bind DailyGridView}"/>
                        </i:Interaction.Behaviors>
                        <Button.Resources>
                            <ResourceDictionary>
                                <SolidColorBrush x:Key="ButtonBackgroundDisabled" Color="#0000"/>
                                <SolidColorBrush x:Key="ButtonBorderBrushDisabled" Color="#0000"/>
                            </ResourceDictionary>
                        </Button.Resources>
                    </Button>
                    <controls1:TemperatureChart x:Name="TemperatureChart"
                                                Visibility="Collapsed"  
                                                Grid.Row="1" WeatherForecasts="{Binding DailyForecasts7D}" 
                                                Margin="-32,0,-28,32" Height="200"/>
                </Grid>
                <!--每小时预报-->
                <Grid Grid.Row="4" Margin="0,12,0,0">
                    <toolkit:AdaptiveGridView x:Name="HourlyGridView" 
                                              ItemsSource="{x:Bind ViewModel.HourlyForecasts24H,Mode=OneWay}"
                                              IsItemClickEnabled="True"
                                              HorizontalAlignment="Stretch"
                                              HorizontalContentAlignment="Stretch"
                                              OneRowModeEnabled="True"
                                              ItemHeight="128"
                                              DesiredWidth="100"
                                              SelectionMode="None"
                                              Margin="0,16,0,0">
                        <toolkit:AdaptiveGridView.ItemTemplate>
                            <DataTemplate x:DataType="models:WeatherBase">
                                <Grid>
                                    <controls1:WeatherHourlyForecastItem WeatherInfo="{x:Bind}" VerticalAlignment="Center"/>
                                    <FlyoutBase.AttachedFlyout>
                                        <Flyout>
                                            <StackPanel MaxWidth="256" Spacing="4">
                                                <TextBlock  Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}" FontSize="18">
                                                    <Run Text="{Binding Time.Hour}"/><Run Text=":00"/>
                                                </TextBlock>
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock FontSize="16">
                                                        <Run Text="{x:Bind Description}" />
                                                        <Run Text="{Binding Temperature}"/><Run Text="°"/>
                                                    </TextBlock>
                                                    <FontIcon Glyph="&#xEB42;" Margin="8,2,0,0" FontSize="12" Visibility="{Binding PrecipitationProbability,Converter={StaticResource NullToVisibilityConverter}}"/>
                                                    <TextBlock  FontSize="16" Margin="2,0,0,0" Visibility="{Binding PrecipitationProbability,Converter={StaticResource NullToVisibilityConverter}}">
                                                        <Run Text="{Binding PrecipitationProbability}"/><Run Text="%"/>
                                                    </TextBlock>
                                                </StackPanel>
                                                <TextBlock FontSize="16">
                                                    <Run Text="{Binding WindDirection}" />
                                                    <Run Text="{Binding WindSpeed}"/>
                                                    <Run Text="km/h"/>
                                                </TextBlock>
                                                <StackPanel Margin="0,4,0,0" Spacing="4" HorizontalAlignment="Left" Orientation="Horizontal">
                                                    <TextBlock Text="湿度:"/>
                                                    <TextBlock >
                                                        <Run Text="{Binding Humidity}"/><Run Text="%"/>
                                                    </TextBlock>
                                                    <TextBlock Text="气压:"/>
                                                    <TextBlock >
                                                        <Run Text="{Binding Pressure}"/>
                                                        <Run Text="kPa"/>
                                                    </TextBlock>
                                                </StackPanel>
                                            </StackPanel>
                                        </Flyout>
                                    </FlyoutBase.AttachedFlyout>
                                </Grid>
                            </DataTemplate>
                        </toolkit:AdaptiveGridView.ItemTemplate>
                        <i:Interaction.Behaviors >
                            <behaviors:ListViewScrollBehavior/>
                            <behaviors:ListViewOpenFlyoutBehavior/>
                        </i:Interaction.Behaviors>
                    </toolkit:AdaptiveGridView>
                    <Button Margin="-20,0,0,0" CornerRadius="50" Height="40" Width="40" HorizontalContentAlignment="Stretch" HorizontalAlignment="Left" VerticalAlignment="Center" Background="Transparent" BorderBrush="Transparent">
                        <FontIcon Glyph="&#xE00E;" Margin="-3,0,0,0"/>
                        <i:Interaction.Behaviors>
                            <behaviors:ListViewScrollButtonBehavior IsRight="False" ListView="{x:Bind HourlyGridView}"/>
                        </i:Interaction.Behaviors>
                        <Button.Resources>
                            <ResourceDictionary>
                                <SolidColorBrush x:Key="ButtonBackgroundDisabled" Color="#0000"/>
                                <SolidColorBrush x:Key="ButtonBorderBrushDisabled" Color="#0000"/>
                            </ResourceDictionary>
                        </Button.Resources>
                    </Button>
                    <Button Margin="0,0,-20,0" CornerRadius="50" Height="40" Width="40" HorizontalAlignment="Right" VerticalAlignment="Center" Background="Transparent" BorderBrush="Transparent" >
                        <FontIcon Glyph="&#xE00F;" Margin="-1,0,0,0"/>
                        <i:Interaction.Behaviors>
                            <behaviors:ListViewScrollButtonBehavior ListView="{x:Bind HourlyGridView}"/>
                        </i:Interaction.Behaviors>
                        <Button.Resources>
                            <ResourceDictionary>
                                <SolidColorBrush x:Key="ButtonBackgroundDisabled" Color="#0000"/>
                                <SolidColorBrush x:Key="ButtonBorderBrushDisabled" Color="#0000"/>
                            </ResourceDictionary>
                        </Button.Resources>
                    </Button>
                    
                </Grid>

                <!--其他信息-->
                <Grid Grid.Row="5" Margin="0,24,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <TextBlock Margin="12,0,0,0" FontSize="16" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}">
                            <Run Text="&#xE018; " FontSize="14" FontFamily="{ThemeResource SymbolThemeFontFamily}"/><Run Text="日出"/>
                            <Run Text="{x:Bind ViewModel.SunRise.ToShortTimeString(),Mode=OneWay}"/>
                            <Run Text="  &#xE099; " FontSize="14" FontFamily="{ThemeResource SymbolThemeFontFamily}"/><Run Text="日落"/>
                            <Run Text="{x:Bind ViewModel.SunSet.ToShortTimeString(),Mode=OneWay}"/>
                    </TextBlock>
                    <controls:AdaptiveGridView Grid.Row="1" SelectionMode="None"
                                              HorizontalAlignment="Stretch"
                                              HorizontalContentAlignment="Stretch"
                                              DesiredWidth="200"
                                              x:DefaultBindMode="OneWay"
                                              ItemHeight="90">
                        <controls:AdaptiveGridView.Items>
                            <StackPanel x:Name="WindInfoPanel" Margin="12" HorizontalAlignment="Left">
                                <TextBlock Text="风"  Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}" FontSize="18"/>
                                <TextBlock  FontSize="25">
                                    <Run Text="{Binding WeatherNow.WindDirection}"/>
                                    <Run Text="{Binding WeatherNow.WindSpeed}" FontSize="25"/>
                                    <Run Text="km/h" FontSize="16"/>
                                </TextBlock>
                            </StackPanel>
                            <StackPanel Margin="12" HorizontalAlignment="Left">
                                <TextBlock Text="体感温度"  Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}" FontSize="18"/>
                                <TextBlock  FontSize="25">
                                    <Run Text="{Binding WeatherNow.ApparentTemperature}" FontSize="25"/><Run Text="°"/>
                                </TextBlock>
                            </StackPanel>
                            <StackPanel Margin="12" HorizontalAlignment="Left">
                                <TextBlock Text="湿度"  Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}" FontSize="18"/>
                                <TextBlock  FontSize="25">
                                    <Run Text="{Binding WeatherNow.Humidity}" FontSize="25"/>
                                    <Run Text="%" FontSize="16"/>
                                </TextBlock>
                            </StackPanel>
                            <StackPanel Margin="12"  HorizontalAlignment="Left">
                                <TextBlock Text="气压"  Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}" FontSize="18"/>
                                <TextBlock  FontSize="25">
                                    <Run Text="{Binding WeatherNow.Pressure}" FontSize="25"/>
                                    <Run Text="hPa"  FontSize="16"/>
                                </TextBlock>
                            </StackPanel>
                            <StackPanel Margin="12" HorizontalAlignment="Left">
                                <TextBlock Text="能见度"  Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}" FontSize="18"/>
                                <TextBlock  FontSize="25">
                                    <Run Text="{Binding WeatherNow.Visibility}" FontSize="25"/>
                                    <Run Text="km"  FontSize="16"/>
                                </TextBlock>
                            </StackPanel>
                        </controls:AdaptiveGridView.Items>
                    </controls:AdaptiveGridView>

                </Grid>
                <controls:AdaptiveGridView Grid.Row="6" SelectionMode="None"
                                           HorizontalAlignment="Stretch"
                                           HorizontalContentAlignment="Stretch"
                                           DesiredWidth="200"
                                           x:DefaultBindMode="OneWay"
                                           IsItemClickEnabled="True"
                                           ItemsSource="{x:Bind ViewModel.Indices}" 
                                           ItemHeight="90">
                    <controls:AdaptiveGridView.ItemTemplate>
                        <DataTemplate x:DataType="models:IndicesBase">
                            <StackPanel Margin="12" HorizontalAlignment="Stretch">
                                <TextBlock Text="{x:Bind Name}"  Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}" FontSize="18"/>
                                <TextBlock  FontSize="25" Text="{x:Bind Category}" />
                                <FlyoutBase.AttachedFlyout>
                                    <Flyout Placement="Top">
                                        <StackPanel MaxWidth="256" Spacing="4">
                                            <TextBlock   Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}" FontSize="18">
                                                <Run  Text="{x:Bind Name}"/>
                                                <Run  Text="-"/>
                                                <Run  Text="{x:Bind Category}"/>
                                            </TextBlock>
                                            <TextBlock Text="{x:Bind Description}" IsTextSelectionEnabled="True" TextWrapping="Wrap" FontSize="16"/>
                                        </StackPanel>
                                    </Flyout>
                                </FlyoutBase.AttachedFlyout>
                            </StackPanel>
                        </DataTemplate>
                    </controls:AdaptiveGridView.ItemTemplate>
                    <i:Interaction.Behaviors>
                        <behaviors:ListViewOpenFlyoutBehavior/>
                    </i:Interaction.Behaviors>
                </controls:AdaptiveGridView>
            </Grid>


        </ScrollViewer>
        <!--内容区-->

        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup>
                <VisualState>
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="1102"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="TemperatureChart.Visibility" Value="Visible"/>
                        <Setter Target="DailyGridView.Margin" Value="-32,0"/>
                        <Setter Target="DailyGridView.ItemHeight" Value="150"/>

                    </VisualState.Setters>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>
    </Grid>

</Page>
